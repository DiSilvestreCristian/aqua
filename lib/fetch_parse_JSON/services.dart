import 'package:http/http.dart' as http;
import 'spiaggia.dart';

class Services {
  static const String url = 'https://pastebin.com/raw/2WAsKh2K';

  static Future<List<Spiaggia>> getSpiagge() async {
    String body = '[{"id":"IT011041044024","name":"Pesaro","coordinates":{"x":"43.914491","y":"12.9214"},"quality":"3","ostreopsis":[{"date":1632744000,"value":6000},{"date":1632139200,"value":5000},{"date":1631534400,"value":6000},{"date":1630929600,"value":7000},{"date":1630324800,"value":4000},{"date":1629720000,"value":5000},{"date":1629115200,"value":6000},{"date":1628510400,"value":7000},{"date":1627905600,"value":4000},{"date":1627300800,"value":2000},{"date":1626696000,"value":2000},{"date":1626091200,"value":2000},{"date":1625486400,"value":2000}],"escherichia":[{"date":1632744000,"value":0},{"date":1632139200,"value":30},{"date":1631534400,"value":60},{"date":1630929600,"value":40},{"date":1630324800,"value":80},{"date":1629720000,"value":120},{"date":1629115200,"value":110},{"date":1628510400,"value":90},{"date":1627905600,"value":70},{"date":1627300800,"value":130},{"date":1626696000,"value":140},{"date":1626091200,"value":200},{"date":1625486400,"value":210}],"enterococcus":[{"date":1632744000,"value":0},{"date":1632139200,"value":20},{"date":1631534400,"value":20},{"date":1630929600,"value":20},{"date":1630324800,"value":30},{"date":1629720000,"value":60},{"date":1629115200,"value":70},{"date":1628510400,"value":90},{"date":1627905600,"value":50},{"date":1627300800,"value":100},{"date":1626696000,"value":120},{"date":1626091200,"value":160},{"date":1625486400,"value":150}]},{"id":"IT011042002006","name":"Ancona","coordinates":{"x":"43.616667","y":"13.535278"},"quality":"0","ostreopsis":[{"date":1632744000,"value":60000},{"date":1632139200,"value":50000},{"date":1631534400,"value":40000},{"date":1630929600,"value":30000},{"date":1630324800,"value":20000},{"date":1629720000,"value":30000},{"date":1629115200,"value":20000},{"date":1628510400,"value":15000},{"date":1627905600,"value":13000},{"date":1627300800,"value":12000},{"date":1626696000,"value":11000},{"date":1626091200,"value":11000},{"date":1625486400,"value":11000}],"escherichia":[{"date":1632744000,"value":700},{"date":1632139200,"value":500},{"date":1631534400,"value":600},{"date":1630929600,"value":300},{"date":1630324800,"value":200},{"date":1629720000,"value":400},{"date":1629115200,"value":300},{"date":1628510400,"value":200},{"date":1627905600,"value":100},{"date":1627300800,"value":80},{"date":1626696000,"value":20},{"date":1626091200,"value":30},{"date":1625486400,"value":50}],"enterococcus":[{"date":1632744000,"value":300},{"date":1632139200,"value":200},{"date":1631534400,"value":200},{"date":1630929600,"value":200},{"date":1630324800,"value":150},{"date":1629720000,"value":160},{"date":1629115200,"value":170},{"date":1628510400,"value":180},{"date":1627905600,"value":200},{"date":1627300800,"value":210},{"date":1626696000,"value":220},{"date":1626091200,"value":230},{"date":1625486400,"value":240}]},{"id":"IT011042002013","name":"Portonovo","coordinates":{"x":"43.566700","y":"13.591700"},"quality":"2","ostreopsis":[{"date":1632744000,"value":0},{"date":1632139200,"value":2000},{"date":1631534400,"value":4000},{"date":1630929600,"value":3000},{"date":1630324800,"value":3000},{"date":1629720000,"value":4000},{"date":1629115200,"value":5000},{"date":1628510400,"value":6000},{"date":1627905600,"value":5000},{"date":1627300800,"value":5000},{"date":1626696000,"value":5000},{"date":1626091200,"value":4000},{"date":1625486400,"value":4000}],"escherichia":[{"date":1632744000,"value":200},{"date":1632139200,"value":180},{"date":1631534400,"value":160},{"date":1630929600,"value":140},{"date":1630324800,"value":130},{"date":1629720000,"value":140},{"date":1629115200,"value":120},{"date":1628510400,"value":110},{"date":1627905600,"value":100},{"date":1627300800,"value":110},{"date":1626696000,"value":110},{"date":1626091200,"value":110},{"date":1625486400,"value":110}],"enterococcus":[{"date":1632744000,"value":20},{"date":1632139200,"value":20},{"date":1631534400,"value":30},{"date":1630929600,"value":40},{"date":1630324800,"value":60},{"date":1629720000,"value":70},{"date":1629115200,"value":70},{"date":1628510400,"value":70},{"date":1627905600,"value":80},{"date":1627300800,"value":90},{"date":1626696000,"value":80},{"date":1626091200,"value":80},{"date":1625486400,"value":80}]},{"id":"IT011044023002","name":"Grottammare","coordinates":{"x":"42.995629","y":"13.871395"},"quality":"2","ostreopsis":[{"date":1632744000,"value":9000},{"date":1632139200,"value":10000},{"date":1631534400,"value":8000},{"date":1630929600,"value":6000},{"date":1630324800,"value":9000},{"date":1629720000,"value":10000},{"date":1629115200,"value":12000},{"date":1628510400,"value":15000},{"date":1627905600,"value":16000},{"date":1627300800,"value":12000},{"date":1626696000,"value":10000},{"date":1626091200,"value":10000},{"date":1625486400,"value":8000}],"escherichia":[{"date":1632744000,"value":300},{"date":1632139200,"value":310},{"date":1631534400,"value":320},{"date":1630929600,"value":330},{"date":1630324800,"value":330},{"date":1629720000,"value":350},{"date":1629115200,"value":350},{"date":1628510400,"value":350},{"date":1627905600,"value":300},{"date":1627300800,"value":250},{"date":1626696000,"value":260},{"date":1626091200,"value":260},{"date":1625486400,"value":240}],"enterococcus":[{"date":1632744000,"value":0},{"date":1632139200,"value":0},{"date":1631534400,"value":20},{"date":1630929600,"value":40},{"date":1630324800,"value":60},{"date":1629720000,"value":70},{"date":1629115200,"value":80},{"date":1628510400,"value":100},{"date":1627905600,"value":80},{"date":1627300800,"value":60},{"date":1626696000,"value":50},{"date":1626091200,"value":60},{"date":1625486400,"value":60}]},{"id":"IT011109030001","name":"Pedaso","coordinates":{"x":"43.087967","y":"13.846817"},"quality":"2","ostreopsis":[{"date":1632744000,"value":6000},{"date":1632139200,"value":7000},{"date":1631534400,"value":9000},{"date":1630929600,"value":8000},{"date":1630324800,"value":11000},{"date":1629720000,"value":10000},{"date":1629115200,"value":10000},{"date":1628510400,"value":9000},{"date":1627905600,"value":9000},{"date":1627300800,"value":10000},{"date":1626696000,"value":10000},{"date":1626091200,"value":12000},{"date":1625486400,"value":12000}],"escherichia":[{"date":1632744000,"value":200},{"date":1632139200,"value":210},{"date":1631534400,"value":220},{"date":1630929600,"value":230},{"date":1630324800,"value":230},{"date":1629720000,"value":250},{"date":1629115200,"value":250},{"date":1628510400,"value":200},{"date":1627905600,"value":150},{"date":1627300800,"value":160},{"date":1626696000,"value":160},{"date":1626091200,"value":160},{"date":1625486400,"value":140}],"enterococcus":[{"date":1632744000,"value":0},{"date":1632139200,"value":0},{"date":1631534400,"value":0},{"date":1630929600,"value":10},{"date":1630324800,"value":30},{"date":1629720000,"value":50},{"date":1629115200,"value":100},{"date":1628510400,"value":80},{"date":1627905600,"value":60},{"date":1627300800,"value":50},{"date":1626696000,"value":50},{"date":1626091200,"value":70},{"date":1625486400,"value":30}]},{"id":"IT011043042012","name":"Porto Recanati","coordinates":{"x":"43.440278","y":"13.661667"},"quality":"2","ostreopsis":[{"date":1632744000,"value":15000},{"date":1632139200,"value":16000},{"date":1631534400,"value":19000},{"date":1630929600,"value":18000},{"date":1630324800,"value":18000},{"date":1629720000,"value":19000},{"date":1629115200,"value":20000},{"date":1628510400,"value":20000},{"date":1627905600,"value":21000},{"date":1627300800,"value":22000},{"date":1626696000,"value":20000},{"date":1626091200,"value":19000},{"date":1625486400,"value":17000}],"escherichia":[{"date":1632744000,"value":190},{"date":1632139200,"value":210},{"date":1631534400,"value":240},{"date":1630929600,"value":220},{"date":1630324800,"value":230},{"date":1629720000,"value":240},{"date":1629115200,"value":250},{"date":1628510400,"value":250},{"date":1627905600,"value":230},{"date":1627300800,"value":200},{"date":1626696000,"value":160},{"date":1626091200,"value":160},{"date":1625486400,"value":170}],"enterococcus":[{"date":1632744000,"value":200},{"date":1632139200,"value":200},{"date":1631534400,"value":200},{"date":1630929600,"value":210},{"date":1630324800,"value":210},{"date":1629720000,"value":230},{"date":1629115200,"value":250},{"date":1628510400,"value":240},{"date":1627905600,"value":160},{"date":1627300800,"value":160},{"date":1626696000,"value":150},{"date":1626091200,"value":170},{"date":1625486400,"value":130}]},{"id":"IT011042048005","name":"Sirolo","coordinates":{"x":"43.524167","y":"13.624722"},"quality":"1","ostreopsis":[{"date":1632744000,"value":10000},{"date":1632139200,"value":10000},{"date":1631534400,"value":11000},{"date":1630929600,"value":12000},{"date":1630324800,"value":13000},{"date":1629720000,"value":14000},{"date":1629115200,"value":14000},{"date":1628510400,"value":14000},{"date":1627905600,"value":13000},{"date":1627300800,"value":14000},{"date":1626696000,"value":12000},{"date":1626091200,"value":11000},{"date":1625486400,"value":11000}],"escherichia":[{"date":1632744000,"value":290},{"date":1632139200,"value":310},{"date":1631534400,"value":340},{"date":1630929600,"value":320},{"date":1630324800,"value":330},{"date":1629720000,"value":340},{"date":1629115200,"value":350},{"date":1628510400,"value":350},{"date":1627905600,"value":330},{"date":1627300800,"value":300},{"date":1626696000,"value":360},{"date":1626091200,"value":360},{"date":1625486400,"value":370}],"enterococcus":[{"date":1632744000,"value":100},{"date":1632139200,"value":100},{"date":1631534400,"value":100},{"date":1630929600,"value":110},{"date":1630324800,"value":120},{"date":1629720000,"value":130},{"date":1629115200,"value":150},{"date":1628510400,"value":140},{"date":1627905600,"value":160},{"date":1627300800,"value":160},{"date":1626696000,"value":150},{"date":1626091200,"value":150},{"date":1625486400,"value":130}]}]';

    try{
      final response = await http.get(Uri.parse(url));
      if (200 == response.statusCode){
        final List<Spiaggia> spiagge = spiaggiaFromJson(body);
        return spiagge;
      }else{
        return <Spiaggia>[];
      }
    }catch(e){
      return <Spiaggia>[];
    }
  }
}

